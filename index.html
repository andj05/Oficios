<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oficios - Encuentra profesionales cerca de ti</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">Oficios</div>
                <div class="nav-buttons">
                    <button class="btn btn-primary" onclick="openModal('registerModal')">Registrar mi oficio</button>
                    <button class="btn btn-secondary" onclick="openModal('loginModal')">Iniciar sesi칩n</button>
                    <!-- Botones temporales para debugging -->
                    <button class="btn" style="background: orange; color: white; font-size: 0.8rem; padding: 0.5rem;" onclick="window.testFirebaseConnection()">Test Firebase</button>
                    <button class="btn" style="background: purple; color: white; font-size: 0.8rem; padding: 0.5rem;" onclick="window.checkFirestoreData()">Ver Datos</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>Encuentra profesionales cerca de ti</h1>
            <p>Conecta con expertos en diferentes oficios y servicios en tu zona</p>
        </div>
    </section>

    <!-- Search Section -->
    <section class="search-section">
        <div class="container">
            <div class="search-container">
                <input type="text" class="search-input" placeholder="Buscar por oficio..." id="searchInput" autocomplete="off">
                <select class="search-select" id="categorySelect">
                    <option value="">Todas las categor칤as</option>
                    <option value="Alba침iler칤a">Alba침iler칤a</option>
                    <option value="Plomer칤a">Plomer칤a</option>
                    <option value="Electricidad">Electricidad</option>
                    <option value="Carpinter칤a">Carpinter칤a</option>
                    <option value="Costura">Costura</option>
                    <option value="Peluquer칤a">Peluquer칤a</option>
                    <option value="Jardiner칤a">Jardiner칤a</option>
                    <option value="Soldadura">Soldadura</option>
                    <option value="Pintura">Pintura</option>
                    <option value="Mec치nica">Mec치nica</option>
                    <option value="Limpieza">Limpieza</option>
                    <option value="Cocina">Cocina</option>
                </select>
                <button class="search-btn" onclick="searchWorkers()">Buscar</button>
            </div>
        </div>
    </section>

    <!-- Results Section -->
    <section class="results-section">
        <div class="container">
            <div id="resultsContainer">
                <h2>Profesionales destacados</h2>
                <div class="results-grid" id="resultsGrid">
                    <!-- Los resultados se cargar치n din치micamente -->
                </div>
            </div>
        </div>
    </section>

    <!-- Register Modal -->
    <div id="registerModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('registerModal')">&times;</span>
            <h2>Registrar mi oficio</h2>
            <form id="registerForm">
                <div class="form-group">
                    <label for="fullName">Nombre completo</label>
                    <input type="text" id="fullName" autocomplete="name" required>
                </div>
                <div class="form-group">
                    <label for="email">Correo electr칩nico</label>
                    <input type="email" id="email" autocomplete="email" required>
                </div>
                <div class="form-group">
                    <label for="password">Contrase침a (m칤nimo 6 caracteres)</label>
                    <input type="password" id="password" autocomplete="new-password" required minlength="6">
                </div>
                <div class="form-group">
                    <label for="phone">Tel칠fono</label>
                    <input type="tel" id="phone" autocomplete="tel" required>
                </div>
                <div class="form-group">
                    <label for="location">Ubicaci칩n (Ciudad, Provincia)</label>
                    <input type="text" id="location" autocomplete="address-level2" required>
                </div>
                <div class="form-group">
                    <label for="trade">Oficio</label>
                    <select id="trade" required>
                        <option value="">Seleccionar oficio</option>
                        <option value="Alba침iler칤a">Alba침iler칤a</option>
                        <option value="Plomer칤a">Plomer칤a</option>
                        <option value="Electricidad">Electricidad</option>
                        <option value="Carpinter칤a">Carpinter칤a</option>
                        <option value="Costura">Costura</option>
                        <option value="Peluquer칤a">Peluquer칤a</option>
                        <option value="Jardiner칤a">Jardiner칤a</option>
                        <option value="Soldadura">Soldadura</option>
                        <option value="Pintura">Pintura</option>
                        <option value="Mec치nica">Mec치nica</option>
                        <option value="Limpieza">Limpieza</option>
                        <option value="Cocina">Cocina</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="description">Descripci칩n de tu trabajo</label>
                    <textarea id="description" placeholder="Ejemplo: Alba침il con 15 a침os de experiencia en construcci칩n residencial..." required></textarea>
                </div>
                <div class="form-group">
                    <label>Foto de perfil</label>
                    <div class="photo-upload" onclick="document.getElementById('profilePhoto').click()">
                        <p>Haz clic para subir tu foto de perfil</p>
                        <input type="file" id="profilePhoto" accept="image/*" style="display: none;">
                    </div>
                    <div id="profilePhotoPreview" class="photo-preview"></div>
                </div>
                <div class="form-group">
                    <label>Fotos de tus trabajos (m치ximo 3)</label>
                    <div class="photo-upload" onclick="document.getElementById('workPhotos').click()">
                        <p>Haz clic para subir fotos de tus trabajos</p>
                        <input type="file" id="workPhotos" accept="image/*" multiple style="display: none;">
                    </div>
                    <div id="workPhotosPreview" class="photo-preview"></div>
                </div>
                <div style="background: #e8f5e8; padding: 1rem; border-radius: 5px; margin-bottom: 1rem; font-size: 0.9rem; color: #333;">
                    <strong>游닞 Info:</strong> Las fotos se guardan localmente en la base de datos. Recomendado: im치genes peque침as (m치x 500KB cada una).
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Registrarme</button>
            </form>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('loginModal')">&times;</span>
            <h2>Iniciar sesi칩n</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Correo electr칩nico</label>
                    <input type="email" id="loginEmail" autocomplete="email" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Contrase침a</label>
                    <input type="password" id="loginPassword" autocomplete="current-password" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Iniciar sesi칩n</button>
            </form>
        </div>
    </div>

    <script type="module" src="script.js"></script>
</body>
</html>